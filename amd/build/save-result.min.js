/**
 * Saves the logic circuit editor state on form submission.
 *
 * @module     qtype_logiccircuit/save-result
 * @copyright  2025 YOUR NAME <your@email.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("qtype_logiccircuit/save-result",["jquery"],(function($){return{init:function(){sessionStorage.clear("logic/logic-editor");const nextNavButton=$('input[type="submit"]#mod_quiz-next-nav.btn'),resultNotUploadedIcon=$("i#result_not_uploaded"),newResultUploadedIcon=$("i#new_result_uploaded"),testResults=$("input#test-results").attr("value");void 0===testResults||0===testResults.length?(nextNavButton.prop("disabled",!0),resultNotUploadedIcon.css("display","block"),newResultUploadedIcon.css("display","none")):(nextNavButton.prop("disabled",!1),resultNotUploadedIcon.css("display","none"),newResultUploadedIcon.css("display","block"));$("button#circuit-run-test-button").on("click",(()=>{$("logic-editor#logic-editor")[0].runAllCircuitTestSuites()}));const resetButton=$("button#circuit-reset-button");resetButton.on("click",(()=>{const initState=resetButton.data("init-state");$("logic-editor#logic-editor")[0].loadCircuitOrLibrary(initState)}));const logicEditor=$("logic-editor#logic-editor")[0];logicEditor.addEventListener("testsinvalidated",(()=>{nextNavButton.prop("disabled",!0),resultNotUploadedIcon.css("display","block"),newResultUploadedIcon.css("display","none")})),logicEditor.addEventListener("testsexecuted",(event=>{try{const userAnswer=event.detail.circuit,userAnswerString=JSON.stringify(userAnswer),testSuitesResults=event.detail.results,testSuitesResultsString=JSON.stringify(testSuitesResults);console.log(userAnswer),console.log(testSuitesResults),$("input#answer").attr("value",userAnswerString),$("input#test-results").attr("value",testSuitesResultsString)}catch(err){throw new Error(err)}nextNavButton.prop("disabled",!1),resultNotUploadedIcon.css("display","none"),newResultUploadedIcon.css("display","block")}))}}}));

//# sourceMappingURL=save-result.min.js.map