/**
 * Saves the logic circuit editor state on form submission.
 *
 * @module     qtype_logiccircuit/save-result
 * @copyright  2025 YOUR NAME <your@email.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("qtype_logiccircuit/save-result",["jquery"],(function($){return{init:function(){sessionStorage.clear("logic/logic-editor");const nextNavButton=$('input[type="submit"]#mod_quiz-next-nav.btn'),resultNotUploadedIcon=$("i#result_not_uploaded"),newResultUploadedIcon=$("i#new_result_uploaded"),testResults=$("input#test-results").attr("value");console.log(testResults),void 0===testResults||0===testResults.length?(nextNavButton.prop("disabled",!0),resultNotUploadedIcon.css("display","block"),newResultUploadedIcon.css("display","none")):(nextNavButton.prop("disabled",!1),resultNotUploadedIcon.css("display","none"),newResultUploadedIcon.css("display","block"));$("button#circuit-run-test-button").on("click",(async _event=>{try{const logicEditor=$("logic-editor#logic-editor")[0],userAnswer=logicEditor.save(),userAnswerString=JSON.stringify(userAnswer),testCases=userAnswer.tests[0],testResults=await logicEditor.runTestSuite(testCases,{noUI:!0}),testResultsString=JSON.stringify(testResults);console.log(logicEditor),console.log(userAnswer),console.log(testCases),console.log(testResults),$("input#answer").attr("value",userAnswerString),$("input#test-results").attr("value",testResultsString)}catch(error){console.error(error)}nextNavButton.prop("disabled",!1),resultNotUploadedIcon.css("display","none"),newResultUploadedIcon.css("display","block")}));const resetButton=$("button#circuit-reset-button");resetButton.on("click",(_event=>{const initState=resetButton.data("init-state");$("logic-editor#logic-editor")[0].loadCircuitOrLibrary(initState)}))}}}));

//# sourceMappingURL=save-result.min.js.map